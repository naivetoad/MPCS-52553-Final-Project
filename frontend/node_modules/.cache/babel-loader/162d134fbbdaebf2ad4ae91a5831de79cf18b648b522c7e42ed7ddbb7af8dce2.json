{"ast":null,"code":"export const authFetch = async (url, options = {}) => {\n  const token = localStorage.getItem('weiwuyan_belay_auth_token');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`,\n    ...options.headers\n  };\n  const response = await fetch(url, {\n    ...options,\n    headers\n  });\n  if (response.status === 401) {\n    localStorage.removeItem('weiwuyan_belay_auth_token');\n    window.location.href = '/login';\n    throw new Error('Unauthorized');\n  }\n  return response;\n};","map":{"version":3,"names":["authFetch","url","options","token","localStorage","getItem","headers","response","fetch","status","removeItem","window","location","href","Error"],"sources":["/Users/naivetoad/Desktop/MPCS-52553-Web-Development-Final-Project/frontend/src/utils/api.js"],"sourcesContent":["export const authFetch = async (url, options = {}) => {\n    const token = localStorage.getItem('weiwuyan_belay_auth_token');\n    \n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n      ...options.headers\n    };\n  \n    const response = await fetch(url, {\n      ...options,\n      headers\n    });\n  \n    if (response.status === 401) {\n      localStorage.removeItem('weiwuyan_belay_auth_token');\n      window.location.href = '/login';\n      throw new Error('Unauthorized');\n    }\n  \n    return response;\n  };"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAClD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,2BAA2B,CAAC;EAE/D,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClC,eAAe,EAAE,UAAUH,KAAK,EAAE;IAClC,GAAGD,OAAO,CAACI;EACb,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACP,GAAG,EAAE;IAChC,GAAGC,OAAO;IACVI;EACF,CAAC,CAAC;EAEF,IAAIC,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IAC3BL,YAAY,CAACM,UAAU,CAAC,2BAA2B,CAAC;IACpDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IAC/B,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EACjC;EAEA,OAAOP,QAAQ;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}