{"ast":null,"code":"var _jsxFileName = \"/Users/naivetoad/Desktop/MPCS_52553_Final_Project/frontend/src/components/auth/Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport '../../styles/auth.css';\nimport { toast } from 'react-toastify';\n\n/**\n * Signup component for new user registration.\n * Handles user creation and automatic login after successful registration.\n * \n * @param {Object} props\n * @param {Function} props.setIsAuthenticated - Callback to update global auth state\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Signup({\n  setIsAuthenticated\n}) {\n  _s();\n  // Initialize form state with empty fields\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const navigate = useNavigate();\n\n  /**\n   * Handle form submission for user registration.\n   * Creates new user account and logs them in if successful.\n   * \n   * @param {Event} e - Form submission event\n   */\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Attempt to create new user account\n      const response = await fetch('http://127.0.0.1:5000/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Store authentication token and update app state\n        localStorage.setItem('weiwuyan_belay_auth_token', data.token);\n        setIsAuthenticated(true);\n        toast.success('Signed up successfully!');\n\n        // Handle redirect after successful signup\n        const redirectPath = localStorage.getItem('redirectPath');\n        navigate(redirectPath || '/');\n        localStorage.removeItem('redirectPath'); // Cleanup stored path\n      } else {\n        toast.error(data.message || 'Signup failed');\n      }\n    } catch (error) {\n      console.error('Signup error:', error);\n      toast.error('Signup failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: formData.username,\n          onChange: e => setFormData({\n            ...formData,\n            username: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Confirm Password\",\n          value: formData.confirmPassword,\n          onChange: e => setFormData({\n            ...formData,\n            confirmPassword: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-link\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"dqqCidy4l5iymolFyi5h+MiWEfM=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useNavigate","Link","toast","jsxDEV","_jsxDEV","Signup","setIsAuthenticated","_s","formData","setFormData","username","password","confirmPassword","navigate","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","success","redirectPath","getItem","removeItem","error","message","console","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","required","to","_c","$RefreshReg$"],"sources":["/Users/naivetoad/Desktop/MPCS_52553_Final_Project/frontend/src/components/auth/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport '../../styles/auth.css';\nimport { toast } from 'react-toastify';\n\n/**\n * Signup component for new user registration.\n * Handles user creation and automatic login after successful registration.\n * \n * @param {Object} props\n * @param {Function} props.setIsAuthenticated - Callback to update global auth state\n */\nfunction Signup({ setIsAuthenticated }) {\n  // Initialize form state with empty fields\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: ''\n  });\n  \n  const navigate = useNavigate();\n\n  /**\n   * Handle form submission for user registration.\n   * Creates new user account and logs them in if successful.\n   * \n   * @param {Event} e - Form submission event\n   */\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      // Attempt to create new user account\n      const response = await fetch('http://127.0.0.1:5000/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData)\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // Store authentication token and update app state\n        localStorage.setItem('weiwuyan_belay_auth_token', data.token);\n        setIsAuthenticated(true);\n        toast.success('Signed up successfully!');\n        \n        // Handle redirect after successful signup\n        const redirectPath = localStorage.getItem('redirectPath');\n        navigate(redirectPath || '/');\n        localStorage.removeItem('redirectPath'); // Cleanup stored path\n      } else {\n        toast.error(data.message || 'Signup failed');\n      }\n    } catch (error) {\n      console.error('Signup error:', error);\n      toast.error('Signup failed');\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <form onSubmit={handleSubmit} className=\"auth-form\">\n        <h2>Create Account</h2>\n        {/* Username input field */}\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={formData.username}\n            onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n            required\n          />\n        </div>\n        {/* Password input field */}\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n            required\n          />\n        </div>\n        {/* Confirm password field for validation */}\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            value={formData.confirmPassword}\n            onChange={(e) => setFormData({ ...formData, confirmPassword: e.target.value })}\n            required\n          />\n        </div>\n        <button type=\"submit\">Sign Up</button>\n        {/* Link to login page for existing users */}\n        <p className=\"auth-link\">\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}